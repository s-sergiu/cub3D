\hypertarget{error__handling_8c}{}\doxysection{/\+Users/ssergiu/projects/cub3\+D/src/error\+\_\+handling.c File Reference}
\label{error__handling_8c}\index{/Users/ssergiu/projects/cub3D/src/error\_handling.c@{/Users/ssergiu/projects/cub3D/src/error\_handling.c}}
{\ttfamily \#include \char`\"{}cub3\+D.\+h\char`\"{}}\newline
Include dependency graph for error\+\_\+handling.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{error__handling_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{error__handling_8c_a968801b6df4daa98b46851157bfbacab}{print\+\_\+error}} (int error)
\begin{DoxyCompactList}\small\item\em Prints an error message to the standard error output and exits with the function parameter passed error code. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{error__handling_8c_ad12f49185b9cfb483605a617c9484f25}{cleanup\+\_\+and\+\_\+exit}} (int error, int file, char $\ast$buffer)
\begin{DoxyCompactList}\small\item\em Frees any allocated memory and exits the program with the given error number. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{error__handling_8c_ae82ab44de3b7db5df0474efb78347c37}{has\+\_\+invalid\+\_\+map\+\_\+extension}} (char $\ast$filename)
\begin{DoxyCompactList}\small\item\em Checks if the given filename has a valid extension. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{error__handling_8c_a708cb4d96afdb85180287f9fe26a9076}{is\+\_\+directory}} (char $\ast$filename)
\item 
int \mbox{\hyperlink{error__handling_8c_a28722e35659ad0e59ef9d1f1c09e23f1}{is\+\_\+valid\+\_\+filename}} (char $\ast$filename)
\begin{DoxyCompactList}\small\item\em Checks if the given filename is valid. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{error__handling_8c_ad12f49185b9cfb483605a617c9484f25}\label{error__handling_8c_ad12f49185b9cfb483605a617c9484f25}} 
\index{error\_handling.c@{error\_handling.c}!cleanup\_and\_exit@{cleanup\_and\_exit}}
\index{cleanup\_and\_exit@{cleanup\_and\_exit}!error\_handling.c@{error\_handling.c}}
\doxysubsubsection{\texorpdfstring{cleanup\_and\_exit()}{cleanup\_and\_exit()}}
{\footnotesize\ttfamily void cleanup\+\_\+and\+\_\+exit (\begin{DoxyParamCaption}\item[{int}]{error,  }\item[{int}]{file,  }\item[{char $\ast$}]{buffer }\end{DoxyParamCaption})}



Frees any allocated memory and exits the program with the given error number. 


\begin{DoxyParams}{Parameters}
{\em error} & The error number to print. \\
\hline
{\em file} & The file descriptor to close. \\
\hline
{\em buffer} & The buffer to free.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{error__handling_8c_source_l00022}{22}} of file \mbox{\hyperlink{error__handling_8c_source}{error\+\_\+handling.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00023\ \{}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keywordflow}{if}\ (file\ >\ 0)}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ close(file);}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer\ !=\ NULL)}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ free(buffer);}
\DoxyCodeLine{00028\ \ \ \ \ \mbox{\hyperlink{error__handling_8c_a968801b6df4daa98b46851157bfbacab}{print\_error}}(error);}
\DoxyCodeLine{00029\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=267pt]{error__handling_8c_ad12f49185b9cfb483605a617c9484f25_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{error__handling_8c_ad12f49185b9cfb483605a617c9484f25_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{error__handling_8c_ae82ab44de3b7db5df0474efb78347c37}\label{error__handling_8c_ae82ab44de3b7db5df0474efb78347c37}} 
\index{error\_handling.c@{error\_handling.c}!has\_invalid\_map\_extension@{has\_invalid\_map\_extension}}
\index{has\_invalid\_map\_extension@{has\_invalid\_map\_extension}!error\_handling.c@{error\_handling.c}}
\doxysubsubsection{\texorpdfstring{has\_invalid\_map\_extension()}{has\_invalid\_map\_extension()}}
{\footnotesize\ttfamily int has\+\_\+invalid\+\_\+map\+\_\+extension (\begin{DoxyParamCaption}\item[{char $\ast$}]{filename }\end{DoxyParamCaption})}



Checks if the given filename has a valid extension. 

This function checks if the extension of the given filename is \char`\"{}.\+cub\char`\"{}.


\begin{DoxyParams}{Parameters}
{\em filename} & The filename to check. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns TRUE (1) if the extension is valid, and FALSE (0) otherwise. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{error__handling_8c_source_l00031}{31}} of file \mbox{\hyperlink{error__handling_8c_source}{error\+\_\+handling.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00032\ \{}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordtype}{int}\ filename\_length;}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ filename\_length\ =\ ft\_strlen(filename);}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordflow}{if}\ (ft\_strncmp(filename\ +\ (filename\_length\ -\/\ 4),\ \textcolor{stringliteral}{"{}.cub\(\backslash\)0"{}},\ 5))}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{cub3_d_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}});}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{cub3_d_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}});}
\DoxyCodeLine{00039\ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{error__handling_8c_ae82ab44de3b7db5df0474efb78347c37_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{error__handling_8c_a708cb4d96afdb85180287f9fe26a9076}\label{error__handling_8c_a708cb4d96afdb85180287f9fe26a9076}} 
\index{error\_handling.c@{error\_handling.c}!is\_directory@{is\_directory}}
\index{is\_directory@{is\_directory}!error\_handling.c@{error\_handling.c}}
\doxysubsubsection{\texorpdfstring{is\_directory()}{is\_directory()}}
{\footnotesize\ttfamily int is\+\_\+directory (\begin{DoxyParamCaption}\item[{char $\ast$}]{filename }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{error__handling_8c_source_l00041}{41}} of file \mbox{\hyperlink{error__handling_8c_source}{error\+\_\+handling.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00042\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordtype}{int}\ file;}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ file\ =\ open(filename,\ O\_DIRECTORY);}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordflow}{if}\ (file\ ==\ -\/1)}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{cub3_d_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}});}
\DoxyCodeLine{00048\ \ \ \ \ close(file);}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{cub3_d_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}});}
\DoxyCodeLine{00050\ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=346pt]{error__handling_8c_a708cb4d96afdb85180287f9fe26a9076_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{error__handling_8c_a28722e35659ad0e59ef9d1f1c09e23f1}\label{error__handling_8c_a28722e35659ad0e59ef9d1f1c09e23f1}} 
\index{error\_handling.c@{error\_handling.c}!is\_valid\_filename@{is\_valid\_filename}}
\index{is\_valid\_filename@{is\_valid\_filename}!error\_handling.c@{error\_handling.c}}
\doxysubsubsection{\texorpdfstring{is\_valid\_filename()}{is\_valid\_filename()}}
{\footnotesize\ttfamily int is\+\_\+valid\+\_\+filename (\begin{DoxyParamCaption}\item[{char $\ast$}]{filename }\end{DoxyParamCaption})}



Checks if the given filename is valid. 

This function checks if the extension of the given filename is valid. If the extension is not valid, it calls the handle\+\_\+error() function with the error code BAD\+\_\+\+MAP\+\_\+\+FILE.


\begin{DoxyParams}{Parameters}
{\em filename} & The filename to check. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns TRUE (1) if the filename is valid, and the handle\+\_\+error() function does not return an error code. Otherwise, it returns FALSE (0). 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{error__handling_8c_source_l00052}{52}} of file \mbox{\hyperlink{error__handling_8c_source}{error\+\_\+handling.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00053\ \{}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{error__handling_8c_a708cb4d96afdb85180287f9fe26a9076}{is\_directory}}(filename))}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{error__handling_8c_a968801b6df4daa98b46851157bfbacab}{print\_error}}(\mbox{\hyperlink{cub3_d_8h_ae9c7e3e493aaf9541c7dc341111be1f9}{IS\_DIRECTORY}});}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{error__handling_8c_ae82ab44de3b7db5df0474efb78347c37}{has\_invalid\_map\_extension}}(filename))}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{error__handling_8c_a968801b6df4daa98b46851157bfbacab}{print\_error}}(\mbox{\hyperlink{cub3_d_8h_a8e0ad1ba0b05ba2af8e7fcd8f02c12ed}{BAD\_MAP\_FILE}});}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{cub3_d_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}});}
\DoxyCodeLine{00059\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=343pt]{error__handling_8c_a28722e35659ad0e59ef9d1f1c09e23f1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=244pt]{error__handling_8c_a28722e35659ad0e59ef9d1f1c09e23f1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{error__handling_8c_a968801b6df4daa98b46851157bfbacab}\label{error__handling_8c_a968801b6df4daa98b46851157bfbacab}} 
\index{error\_handling.c@{error\_handling.c}!print\_error@{print\_error}}
\index{print\_error@{print\_error}!error\_handling.c@{error\_handling.c}}
\doxysubsubsection{\texorpdfstring{print\_error()}{print\_error()}}
{\footnotesize\ttfamily void print\+\_\+error (\begin{DoxyParamCaption}\item[{int}]{error }\end{DoxyParamCaption})}



Prints an error message to the standard error output and exits with the function parameter passed error code. 


\begin{DoxyParams}{Parameters}
{\em error} & The error number to print.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{error__handling_8c_source_l00004}{4}} of file \mbox{\hyperlink{error__handling_8c_source}{error\+\_\+handling.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00005\ \{}
\DoxyCodeLine{00006\ \ \ \ \ \textcolor{keywordflow}{if}\ (error\ ==\ \mbox{\hyperlink{cub3_d_8h_a4635f2163efe937e76598aff306d35d1}{EMPTY\_MAP}})}
\DoxyCodeLine{00007\ \ \ \ \ \{}
\DoxyCodeLine{00008\ \ \ \ \ \ \ \ \ write(2,\ \textcolor{stringliteral}{"{}Error:\ Empty\ map\(\backslash\)n"{}},\ 17);}
\DoxyCodeLine{00009\ \ \ \ \ \ \ \ \ exit(error);}
\DoxyCodeLine{00010\ \ \ \ \ \}}
\DoxyCodeLine{00011\ \ \ \ \ \textcolor{keywordflow}{if}\ (error\ ==\ \mbox{\hyperlink{cub3_d_8h_a8e0ad1ba0b05ba2af8e7fcd8f02c12ed}{BAD\_MAP\_FILE}})}
\DoxyCodeLine{00012\ \ \ \ \ \{}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ write(2,\ \textcolor{stringliteral}{"{}Error:\ Bad\ map\ file\(\backslash\)n"{}},\ 20);}
\DoxyCodeLine{00014\ \ \ \ \ \ \ \ \ exit(error);}
\DoxyCodeLine{00015\ \ \ \ \ \}}
\DoxyCodeLine{00016\ \ \ \ \ write(2,\ \textcolor{stringliteral}{"{}Error:\ "{}},\ 7);}
\DoxyCodeLine{00017\ \ \ \ \ ft\_putstr\_fd(strerror(error),\ 2);}
\DoxyCodeLine{00018\ \ \ \ \ write(2,\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}},\ 1);}
\DoxyCodeLine{00019\ \ \ \ \ exit(error);}
\DoxyCodeLine{00020\ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{error__handling_8c_a968801b6df4daa98b46851157bfbacab_icgraph}
\end{center}
\end{figure}
