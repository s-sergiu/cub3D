\hypertarget{mlx__utils_8c}{}\doxysection{/home/ssergiu/projects/cub3d/external/\+MLX42/src/utils/mlx\+\_\+utils.c File Reference}
\label{mlx__utils_8c}\index{/home/ssergiu/projects/cub3d/external/MLX42/src/utils/mlx\_utils.c@{/home/ssergiu/projects/cub3d/external/MLX42/src/utils/mlx\_utils.c}}
{\ttfamily \#include \char`\"{}MLX42/\+MLX42\+\_\+\+Int.\+h\char`\"{}}\newline
Include dependency graph for mlx\+\_\+utils.\+c\+:
% FIG 0
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{mlx__utils_8c_afeec80312b6f8a8755b798ed12721cd8}{mlx\+\_\+getline}} (char $\ast$$\ast$out, size\+\_\+t $\ast$out\+\_\+size, FILE $\ast$file)
\item 
uint64\+\_\+t \mbox{\hyperlink{mlx__utils_8c_ab31a068c9000789a7999bfc1ea34709b}{mlx\+\_\+fnv\+\_\+hash}} (char $\ast$str, size\+\_\+t len)
\item 
bool \mbox{\hyperlink{mlx__utils_8c_a93b4ce5ceae0d22c22c6c9125c052616}{mlx\+\_\+freen}} (int32\+\_\+t \mbox{\hyperlink{glad_8h_a31eafbeac9256b106b6acfd78f305200}{count}},...)
\item 
uint32\+\_\+t \mbox{\hyperlink{mlx__utils_8c_ad58d85c71babb51bf426e72a9b87efa0}{mlx\+\_\+rgba\+\_\+to\+\_\+mono}} (uint32\+\_\+t \mbox{\hyperlink{glad_8h_a69995a929d818b8b467d4593c24d98bc}{color}})
\item 
double \mbox{\hyperlink{mlx__utils_8c_adbaabb0ba6fb3adf119e026bb4a386bf}{mlx\+\_\+get\+\_\+time}} (\mbox{\hyperlink{glad_8h_a950fc91edb4504f62f1c577bf4727c29}{void}})
\item 
\mbox{\hyperlink{glad_8h_a950fc91edb4504f62f1c577bf4727c29}{void}} \mbox{\hyperlink{mlx__utils_8c_a2cbce835d52e89e37e4bb410ceea776d}{mlx\+\_\+focus}} (\mbox{\hyperlink{MLX42_8h_afc5fa27c9de2859c5d399b2d9e27e17a}{mlx\+\_\+t}} $\ast$\mbox{\hyperlink{structmlx}{mlx}})
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{mlx__utils_8c_ab31a068c9000789a7999bfc1ea34709b}\label{mlx__utils_8c_ab31a068c9000789a7999bfc1ea34709b}} 
\index{mlx\_utils.c@{mlx\_utils.c}!mlx\_fnv\_hash@{mlx\_fnv\_hash}}
\index{mlx\_fnv\_hash@{mlx\_fnv\_hash}!mlx\_utils.c@{mlx\_utils.c}}
\doxysubsubsection{\texorpdfstring{mlx\_fnv\_hash()}{mlx\_fnv\_hash()}}
{\footnotesize\ttfamily uint64\+\_\+t mlx\+\_\+fnv\+\_\+hash (\begin{DoxyParamCaption}\item[{char $\ast$}]{str,  }\item[{size\+\_\+t}]{len }\end{DoxyParamCaption})}

String hashing algorithm using FNV-\/1a. Source\+: \href{https://bit.ly/3JcRGHa}{\texttt{ https\+://bit.\+ly/3\+Jc\+RGHa}}


\begin{DoxyParams}{Parameters}
{\em str} & The string to hash \\
\hline
{\em len} & The length of the string. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The hashed output. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{mlx__utils_8c_source_l00068}{68}} of file \mbox{\hyperlink{mlx__utils_8c_source}{mlx\+\_\+utils.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00069\ \{}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keyword}{const}\ uint64\_t\ fnv\_prime\ =\ 0x100000001b3;}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{const}\ uint64\_t\ fnv\_offset\ =\ 0xcbf29ce484222325;}
\DoxyCodeLine{00072\ \ \ \ \ uint64\_t\ hash\ =\ fnv\_offset;}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ len;\ i++)}
\DoxyCodeLine{00075\ \ \ \ \ \{}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ hash\ \string^=\ str[i];}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ hash\ *=\ fnv\_prime;}
\DoxyCodeLine{00078\ \ \ \ \ \}}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordflow}{return}\ (hash);}
\DoxyCodeLine{00080\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{mlx__utils_8c_a2cbce835d52e89e37e4bb410ceea776d}\label{mlx__utils_8c_a2cbce835d52e89e37e4bb410ceea776d}} 
\index{mlx\_utils.c@{mlx\_utils.c}!mlx\_focus@{mlx\_focus}}
\index{mlx\_focus@{mlx\_focus}!mlx\_utils.c@{mlx\_utils.c}}
\doxysubsubsection{\texorpdfstring{mlx\_focus()}{mlx\_focus()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glad_8h_a950fc91edb4504f62f1c577bf4727c29}{void}} mlx\+\_\+focus (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{MLX42_8h_afc5fa27c9de2859c5d399b2d9e27e17a}{mlx\+\_\+t}} $\ast$}]{mlx }\end{DoxyParamCaption})}

This function brings the specified window to front and sets input focus.

Do not use this function to steal focus from other applications unless you are certain that is what the user wants. Focus stealing can be extremely disruptive.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em mlx} & The MLX instance handle. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{mlx__utils_8c_source_l00126}{126}} of file \mbox{\hyperlink{mlx__utils_8c_source}{mlx\+\_\+utils.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00127\ \{}
\DoxyCodeLine{00128\ \ \ \ \ \mbox{\hyperlink{MLX42__Int_8h_a0271f5f01990fc9f03093522bc76718c}{MLX\_NONNULL}}(\mbox{\hyperlink{structmlx}{mlx}});}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \ \ glfwFocusWindow(\mbox{\hyperlink{structmlx}{mlx}}-\/>\mbox{\hyperlink{structmlx_ac62f9d62f0c49302f94703ba83c5c169}{window}});}
\DoxyCodeLine{00131\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{mlx__utils_8c_a93b4ce5ceae0d22c22c6c9125c052616}\label{mlx__utils_8c_a93b4ce5ceae0d22c22c6c9125c052616}} 
\index{mlx\_utils.c@{mlx\_utils.c}!mlx\_freen@{mlx\_freen}}
\index{mlx\_freen@{mlx\_freen}!mlx\_utils.c@{mlx\_utils.c}}
\doxysubsubsection{\texorpdfstring{mlx\_freen()}{mlx\_freen()}}
{\footnotesize\ttfamily bool mlx\+\_\+freen (\begin{DoxyParamCaption}\item[{int32\+\_\+t}]{count,  }\item[{}]{... }\end{DoxyParamCaption})}

Utility function that lets you free x amount of pointers.


\begin{DoxyParams}{Parameters}
{\em count} & The amount of args provided. \\
\hline
{\em ...} & Any form of pointer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
False, this is simply for convenience when necessary. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{mlx__utils_8c_source_l00089}{89}} of file \mbox{\hyperlink{mlx__utils_8c_source}{mlx\+\_\+utils.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00090\ \{}
\DoxyCodeLine{00091\ \ \ \ \ va\_list\ args;}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ va\_start(args,\ \mbox{\hyperlink{glad_8h_a31eafbeac9256b106b6acfd78f305200}{count}});}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordflow}{for}\ (int32\_t\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{glad_8h_a31eafbeac9256b106b6acfd78f305200}{count}};\ i++)}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ free(va\_arg(args,\ \textcolor{keywordtype}{void}*));}
\DoxyCodeLine{00096\ \ \ \ \ va\_end(args);}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keyword}{false});}
\DoxyCodeLine{00098\ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
% FIG 1
\mbox{\Hypertarget{mlx__utils_8c_adbaabb0ba6fb3adf119e026bb4a386bf}\label{mlx__utils_8c_adbaabb0ba6fb3adf119e026bb4a386bf}} 
\index{mlx\_utils.c@{mlx\_utils.c}!mlx\_get\_time@{mlx\_get\_time}}
\index{mlx\_get\_time@{mlx\_get\_time}!mlx\_utils.c@{mlx\_utils.c}}
\doxysubsubsection{\texorpdfstring{mlx\_get\_time()}{mlx\_get\_time()}}
{\footnotesize\ttfamily double mlx\+\_\+get\+\_\+time (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{glad_8h_a950fc91edb4504f62f1c577bf4727c29}{void}}}]{ }\end{DoxyParamCaption})}

Gets the elapsed time since MLX was initialized.

\begin{DoxyReturn}{Returns}
The amount of time elapsed in seconds. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{mlx__utils_8c_source_l00121}{121}} of file \mbox{\hyperlink{mlx__utils_8c_source}{mlx\+\_\+utils.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00122\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordflow}{return}\ (glfwGetTime());}
\DoxyCodeLine{00124\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{mlx__utils_8c_afeec80312b6f8a8755b798ed12721cd8}\label{mlx__utils_8c_afeec80312b6f8a8755b798ed12721cd8}} 
\index{mlx\_utils.c@{mlx\_utils.c}!mlx\_getline@{mlx\_getline}}
\index{mlx\_getline@{mlx\_getline}!mlx\_utils.c@{mlx\_utils.c}}
\doxysubsubsection{\texorpdfstring{mlx\_getline()}{mlx\_getline()}}
{\footnotesize\ttfamily bool mlx\+\_\+getline (\begin{DoxyParamCaption}\item[{char $\ast$$\ast$}]{out,  }\item[{size\+\_\+t $\ast$}]{out\+\_\+size,  }\item[{FILE $\ast$}]{file }\end{DoxyParamCaption})}

Function to read a file stream line by line, reusing the same output pointer. Since the same output pointer is reused it should only be freed once, either on success or failure. This function is made to be somewhat similar to getline. Getline can\textquotesingle{}t be used directly since it\textquotesingle{}s not standard and therefore not available on all platforms.


\begin{DoxyParams}{Parameters}
{\em out} & Pointer to store output string. \\
\hline
{\em out\+\_\+size} & Pointer to store output strings length. \\
\hline
{\em file} & File stream to read from. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if line was read, false if EOF was reached or an error occurred. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{mlx__utils_8c_source_l00028}{28}} of file \mbox{\hyperlink{mlx__utils_8c_source}{mlx\+\_\+utils.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00029\ \{}
\DoxyCodeLine{00030\ \ \ \ \ \mbox{\hyperlink{MLX42__Int_8h_a0271f5f01990fc9f03093522bc76718c}{MLX\_NONNULL}}(out);}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{MLX42__Int_8h_a0271f5f01990fc9f03093522bc76718c}{MLX\_NONNULL}}(out\_size);}
\DoxyCodeLine{00032\ \ \ \ \ \mbox{\hyperlink{MLX42__Int_8h_a0271f5f01990fc9f03093522bc76718c}{MLX\_NONNULL}}(file);}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{glad_8h_adead0e00f1033fff2918e18853add2b1}{size}}\ =\ 0;}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordtype}{char}*\ temp\ =\ NULL;}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{char}\ BUFF[\mbox{\hyperlink{MLX42__Int_8h_a6d56ab6e0a51019c64a776aa5ccf0350}{GETLINE\_BUFF}}\ +\ 1];\ \textcolor{comment}{//\ Add\ space\ for\ '\(\backslash\)0'}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordflow}{if}\ (*out)\ *out[0]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordflow}{while}\ (fgets(BUFF,\ \textcolor{keyword}{sizeof}(BUFF),\ file))}
\DoxyCodeLine{00041\ \ \ \ \ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{glad_8h_adead0e00f1033fff2918e18853add2b1}{size}}\ +=\ strlen(BUFF);}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(temp\ =\ realloc(*out,\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char})\ *\ \mbox{\hyperlink{glad_8h_adead0e00f1033fff2918e18853add2b1}{size}}\ +\ 1)))}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keyword}{false});}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*out\ ==\ NULL)}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ memset(temp,\ \textcolor{charliteral}{'\(\backslash\)0'},\ \mbox{\hyperlink{glad_8h_adead0e00f1033fff2918e18853add2b1}{size}});}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ temp[\mbox{\hyperlink{glad_8h_adead0e00f1033fff2918e18853add2b1}{size}}]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ *out\ =\ temp;}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ *out\_size\ =\ \mbox{\hyperlink{glad_8h_adead0e00f1033fff2918e18853add2b1}{size}};}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ strncat(*out,\ BUFF,\ \mbox{\hyperlink{glad_8h_adead0e00f1033fff2918e18853add2b1}{size}});}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strrchr(BUFF,\ \textcolor{charliteral}{'\(\backslash\)n'}))}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keyword}{true});}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ memset(BUFF,\ \textcolor{charliteral}{'\(\backslash\)0'},\ \textcolor{keyword}{sizeof}(BUFF));}
\DoxyCodeLine{00056\ \ \ \ \ \}}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{glad_8h_adead0e00f1033fff2918e18853add2b1}{size}});}
\DoxyCodeLine{00058\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{mlx__utils_8c_ad58d85c71babb51bf426e72a9b87efa0}\label{mlx__utils_8c_ad58d85c71babb51bf426e72a9b87efa0}} 
\index{mlx\_utils.c@{mlx\_utils.c}!mlx\_rgba\_to\_mono@{mlx\_rgba\_to\_mono}}
\index{mlx\_rgba\_to\_mono@{mlx\_rgba\_to\_mono}!mlx\_utils.c@{mlx\_utils.c}}
\doxysubsubsection{\texorpdfstring{mlx\_rgba\_to\_mono()}{mlx\_rgba\_to\_mono()}}
{\footnotesize\ttfamily uint32\+\_\+t mlx\+\_\+rgba\+\_\+to\+\_\+mono (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{color }\end{DoxyParamCaption})}

Converts an RGBA value to a monochrome/grayscale value. It does so using specific weights for each channel.

\begin{DoxySeeAlso}{See also}
\href{https://goodcalculators.com/rgb-to-grayscale-conversion-calculator/}{\texttt{ https\+://goodcalculators.\+com/rgb-\/to-\/grayscale-\/conversion-\/calculator/}}
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em color} & The input RGBA value. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The rgba value converted to a grayscale color. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{mlx__utils_8c_source_l00109}{109}} of file \mbox{\hyperlink{mlx__utils_8c_source}{mlx\+\_\+utils.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00110\ \{}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keyword}{const}\ uint8\_t\ \mbox{\hyperlink{glad_8h_abe08814c2f72843fde4d8df41440d5a0}{r}}\ =\ 0.299f\ *\ ((\mbox{\hyperlink{glad_8h_a69995a929d818b8b467d4593c24d98bc}{color}}\ >>\ 24)\ \&\ 0xFF);}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keyword}{const}\ uint8\_t\ \mbox{\hyperlink{glad_8h_a9cd653b1648845554169fbc3a3f6d37a}{g}}\ =\ 0.587f\ *\ ((\mbox{\hyperlink{glad_8h_a69995a929d818b8b467d4593c24d98bc}{color}}\ >>\ 16)\ \&\ 0xFF);}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keyword}{const}\ uint8\_t\ \mbox{\hyperlink{glad_8h_a6eba317e3cf44d6d26c04a5a8f197dcb}{b}}\ =\ 0.114f\ *\ ((\mbox{\hyperlink{glad_8h_a69995a929d818b8b467d4593c24d98bc}{color}}\ >>\ 8)\ \&\ 0xFF);}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keyword}{const}\ uint8\_t\ \mbox{\hyperlink{glad_8h_a5e247fc24ceb70d83f6ad59149b8910a}{y}}\ =\ \mbox{\hyperlink{glad_8h_abe08814c2f72843fde4d8df41440d5a0}{r}}\ +\ \mbox{\hyperlink{glad_8h_a9cd653b1648845554169fbc3a3f6d37a}{g}}\ +\ \mbox{\hyperlink{glad_8h_a6eba317e3cf44d6d26c04a5a8f197dcb}{b}};}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{glad_8h_a5e247fc24ceb70d83f6ad59149b8910a}{y}}\ <<\ 24\ |\ \mbox{\hyperlink{glad_8h_a5e247fc24ceb70d83f6ad59149b8910a}{y}}\ <<\ 16\ |\ \mbox{\hyperlink{glad_8h_a5e247fc24ceb70d83f6ad59149b8910a}{y}}\ <<\ 8\ |\ (\mbox{\hyperlink{glad_8h_a69995a929d818b8b467d4593c24d98bc}{color}}\ \&\ 0xFF));}
\DoxyCodeLine{00117\ \}}

\end{DoxyCode}
