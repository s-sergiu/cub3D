\hypertarget{read__map_8c}{}\doxysection{/\+Users/ssergiu/projects/cub3\+D/src/read\+\_\+map.c File Reference}
\label{read__map_8c}\index{/Users/ssergiu/projects/cub3D/src/read\_map.c@{/Users/ssergiu/projects/cub3D/src/read\_map.c}}
{\ttfamily \#include \char`\"{}cub3\+D.\+h\char`\"{}}\newline
Include dependency graph for read\+\_\+map.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{read__map_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{read__map_8c_a973f5273453bacdf37c27ef24bdd540d}{get\+\_\+total\+\_\+bytes}} (char $\ast$filename)
\begin{DoxyCompactList}\small\item\em Returns the total number of bytes in the file with the given filename. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{read__map_8c_a953ff0338bfa5e5863fc98056025e303}{read\+\_\+map}} (char $\ast$filename)
\begin{DoxyCompactList}\small\item\em Reads the contents of the file with the given name into a dynamically allocated buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{read__map_8c_a973f5273453bacdf37c27ef24bdd540d}\label{read__map_8c_a973f5273453bacdf37c27ef24bdd540d}} 
\index{read\_map.c@{read\_map.c}!get\_total\_bytes@{get\_total\_bytes}}
\index{get\_total\_bytes@{get\_total\_bytes}!read\_map.c@{read\_map.c}}
\doxysubsubsection{\texorpdfstring{get\_total\_bytes()}{get\_total\_bytes()}}
{\footnotesize\ttfamily int get\+\_\+total\+\_\+bytes (\begin{DoxyParamCaption}\item[{char $\ast$}]{filename }\end{DoxyParamCaption})}



Returns the total number of bytes in the file with the given filename. 


\begin{DoxyParams}{Parameters}
{\em filename} & The name of the file.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The total number of bytes in the file. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{read__map_8c_source_l00004}{4}} of file \mbox{\hyperlink{read__map_8c_source}{read\+\_\+map.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00005\ \{}
\DoxyCodeLine{00006\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ file;}
\DoxyCodeLine{00007\ \ \ \ \ \textcolor{keywordtype}{char}\ \ \ \ *string\_buffer;}
\DoxyCodeLine{00008\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ total\_bytes;}
\DoxyCodeLine{00009\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ bytes\_read;}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \ \ \ \ file\ =\ open(filename,\ O\_RDONLY);}
\DoxyCodeLine{00012\ \ \ \ \ \textcolor{keywordflow}{if}\ (file\ ==\ -\/1)}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cub3_d_8h_a968801b6df4daa98b46851157bfbacab}{print\_error}}(errno);}
\DoxyCodeLine{00014\ \ \ \ \ string\_buffer\ =\ (\textcolor{keywordtype}{char}\ *)malloc(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char})\ *\ 100);}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keywordflow}{if}\ (!string\_buffer)}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cub3_d_8h_ad12f49185b9cfb483605a617c9484f25}{cleanup\_and\_exit}}(errno,\ file,\ NULL);}
\DoxyCodeLine{00017\ \ \ \ \ bytes\_read\ =\ read(file,\ string\_buffer,\ 100);}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keywordflow}{if}\ (bytes\_read\ ==\ -\/1)}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cub3_d_8h_ad12f49185b9cfb483605a617c9484f25}{cleanup\_and\_exit}}(errno,\ file,\ string\_buffer);}
\DoxyCodeLine{00020\ \ \ \ \ total\_bytes\ =\ bytes\_read;}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordflow}{while}\ (bytes\_read\ >\ 0)}
\DoxyCodeLine{00022\ \ \ \ \ \{}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ bytes\_read\ =\ read(file,\ string\_buffer,\ 100);}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bytes\_read\ ==\ -\/1)}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cub3_d_8h_ad12f49185b9cfb483605a617c9484f25}{cleanup\_and\_exit}}(errno,\ file,\ string\_buffer);}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ total\_bytes\ +=\ bytes\_read;}
\DoxyCodeLine{00027\ \ \ \ \ \}}
\DoxyCodeLine{00028\ \ \ \ \ close(file);}
\DoxyCodeLine{00029\ \ \ \ \ free(string\_buffer);}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keywordflow}{return}\ (total\_bytes);}
\DoxyCodeLine{00031\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{read__map_8c_a973f5273453bacdf37c27ef24bdd540d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{read__map_8c_a973f5273453bacdf37c27ef24bdd540d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{read__map_8c_a953ff0338bfa5e5863fc98056025e303}\label{read__map_8c_a953ff0338bfa5e5863fc98056025e303}} 
\index{read\_map.c@{read\_map.c}!read\_map@{read\_map}}
\index{read\_map@{read\_map}!read\_map.c@{read\_map.c}}
\doxysubsubsection{\texorpdfstring{read\_map()}{read\_map()}}
{\footnotesize\ttfamily char $\ast$ read\+\_\+map (\begin{DoxyParamCaption}\item[{char $\ast$}]{filename }\end{DoxyParamCaption})}



Reads the contents of the file with the given name into a dynamically allocated buffer. 


\begin{DoxyParams}{Parameters}
{\em file} & The name of the file.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the dynamically allocated buffer containing the file contents, or NULL on error. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{read__map_8c_source_l00033}{33}} of file \mbox{\hyperlink{read__map_8c_source}{read\+\_\+map.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00034\ \{}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ file;}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ bytes\_read;}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordtype}{char}\ \ \ \ *map\_string;}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \ \ bytes\_read\ =\ \mbox{\hyperlink{read__map_8c_a973f5273453bacdf37c27ef24bdd540d}{get\_total\_bytes}}(filename);}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordflow}{if}\ (!bytes\_read)}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cub3_d_8h_a968801b6df4daa98b46851157bfbacab}{print\_error}}(\mbox{\hyperlink{cub3_d_8h_a4635f2163efe937e76598aff306d35d1}{EMPTY\_MAP}});}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordflow}{if}\ (bytes\_read\ ==\ -\/1)}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (NULL);}
\DoxyCodeLine{00044\ \ \ \ \ map\_string\ =\ (\textcolor{keywordtype}{char}\ *)malloc(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char})\ *\ bytes\_read\ +\ 1);}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordflow}{if}\ (!map\_string)}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (NULL);}
\DoxyCodeLine{00047\ \ \ \ \ file\ =\ open(filename,\ O\_RDONLY);}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{if}\ (file\ ==\ -\/1)}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cub3_d_8h_ad12f49185b9cfb483605a617c9484f25}{cleanup\_and\_exit}}(errno,\ 0,\ map\_string);}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordflow}{if}\ (read(file,\ map\_string,\ bytes\_read)\ ==\ -\/1)}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cub3_d_8h_ad12f49185b9cfb483605a617c9484f25}{cleanup\_and\_exit}}(errno,\ file,\ map\_string);}
\DoxyCodeLine{00052\ \ \ \ \ map\_string[bytes\_read]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00053\ \ \ \ \ close(file);}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordflow}{return}\ (map\_string);}
\DoxyCodeLine{00055\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{read__map_8c_a953ff0338bfa5e5863fc98056025e303_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{read__map_8c_a953ff0338bfa5e5863fc98056025e303_icgraph}
\end{center}
\end{figure}
